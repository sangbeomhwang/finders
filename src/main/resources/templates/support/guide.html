<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>PROCONNECT</title>
<link rel="stylesheet" th:href="@{/css/support/guide.css}">
<link rel="stylesheet" th:href="@{/css/primary.css}">
<!-- Font Awesome 추가 -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
</head>
<body>
	<header>
</header>

    <!-- Navigation Menu -->
    <nav class="top-nav">
    </nav>


	<!-- Main Content -->
	<main class="container" id="main">
		<div class="main-tabs">
			<button class="tab active" data-tab="client-guide">클라이언트
				이용방법</button>
			<button class="tab" data-tab="freelancer-guide">프리랜서 이용방법</button>
		</div>

		<div class="tab-content active" id="client-guide">
			<h1>의뢰하고 싶은 프로젝트를 무료로 등록해보세요.</h1>
			<p>PROCONNECT에서 제공하는 프로젝트 작성 가이드를 따라 프로젝트를 게시할 수 있습니다.</p>
			<p>수많은 PROCONNECT의 전문가들이 여러분의 프로젝트를 기다리고 있습니다.</p>
			<a th:href="@{/board/write}" class="button">프로젝트 등록하기 ></a>
			
			<div class="faq-container">
				<div class="faq-item">
					<div class="faq-icon">💼</div>
					<div class="faq-content">
						<div class="faq-question">다양한 분야의 전문가들이 기다립니다.</div>
						<div class="faq-answer">원하는 분야, 업무 범위, 심지어는 원하는 기술 스택까지 직접 결정해서 게시할 수 있습니다.</div>
					</div>
				</div>
				<br>
				<div class="faq-image">
					<img src="/images/support/publishing.jpg" width="800px" height="400px" alt="포트폴리오">
				</div>
				<br><br>
				<div class="faq-item">
					<div class="faq-icon">💡</div>
					<div class="faq-content">
						<div class="faq-question">누구에게 맡길 것인지, 결정은 여러분의 몫입니다.</div>
						<div class="faq-answer">프로젝트 관리 툴에서 프리랜서의 능력을 검증하고 직접 팀원을 선정해보세요.</div>
					</div>
				</div>
				<div class="faq-image">
					<img src="/images/support/apply.jpg" width="800px" height="400px" alt="포트폴리오">
				</div>
				<div class="faq-item">
					<div class="faq-icon">📊</div>
					<div class="faq-content">
						<div class="faq-question">프로젝트가 얼마나 진행되었는지 알고 싶어요.</div>
						<div class="faq-answer">내 프로젝트 보기에서 프로젝트의 진척도를 확인할 수 있도록 간트차트, 캘린더 등의 다양한 자료를 제공합니다.</div>
					</div>
				</div>
				<div class="faq-image">
					<img src="/images/support/ganttchart.jpg" width="800px" height="400px" alt="포트폴리오">
					<br><br><br>
					<img src="/images/support/callender.jpg" width="800px" height="400px" alt="포트폴리오">
					<br><br><br>
				</div>
			</div>
		</div>
		<!-- 프리랜서 가이드 -->
		<div class="tab-content" id="freelancer-guide">
			<h1>참가하고 싶은 프로젝트에 직접 지원해보세요.</h1>
			<p>프로젝트에서 사용될 기술 스택이나 업무 분야에 따라 검색할 수 있습니다.</p>
			<p>다양한 규모의 프로젝트들을 직접, 원하는 대로 선택해서 진행해보세요.</p>
			<a th:href="@{/board/view}" class="button">프로젝트 신청하기 ></a>
			<a th:href="@{/portfolio/create}" class="button">포트폴리오 작성하기 ></a>
			
			<div class="faq-container">
				<div class="faq-item">
					<div class="faq-icon">💼</div>
					<div class="faq-content">
						<div class="faq-question">포트폴리오를 통해 클라이언트에게 자신을 소개해보세요.</div>
						<div class="faq-answer">포트폴리오 양식은 PROCONNECT에서 지원합니다.</div>
					</div>
				</div>
				<br>
				<div class="faq-image">
					<img src="/images/support/portfolio.jpg" width="800px" height="400px" alt="포트폴리오">
				</div>
				<br><br>
				<div class="faq-item">
					<div class="faq-icon">💡</div>
					<div class="faq-content">
						<div class="faq-question">언제 어디서든 아이디어가 떠오르면 컨펌받으세요.</div>
						<div class="faq-answer">PROCONNECT는 채팅방 기능을 통해 같은 프로젝트 구성원들과의 연락망을 서포트합니다.</div>
					</div>
				</div>
				<div class="faq-image">
					<img src="/images/support/chat.jpg" width="550px" height="800px" alt="포트폴리오">
				</div>
				<div class="faq-item">
					<div class="faq-icon">📊</div>
					<div class="faq-content">
						<div class="faq-question">아직도 카톡으로 업무 내용 공유하시나요?</div>
						<div class="faq-answer">PROCONNECT가 제공하는 프로젝트 관리 툴을 통해 한 눈에 업무를 파악하고 일정을 공유할 수 있습니다.</div>
					</div>
				</div>
				<div class="faq-image">
					<img src="/images/support/ganttchart.jpg" width="800px" height="400px" alt="포트폴리오">
					<br><br><br>
					<img src="/images/support/callender.jpg" width="800px" height="400px" alt="포트폴리오">
					<br><br><br>
				</div>
			</div>
		</div>
	</main>

	<!-- Footer -->
	<footer>
	</footer>
    <div id="chat-container"></div>
	<script th:src="@{/js/support/guide.js}"></script>
</body>
<script>
$(document).ready(function () {
    // 로그인 여부를 확인하는 AJAX 요청
    $.ajax({
        url: '/currentUser',
        method: 'GET',
        success: function(isAuthenticated) {
            console.log("인증 상태:", isAuthenticated);
            if (isAuthenticated) {
                // 로그인된 경우에만 chat-container를 로드
                $("#chat-container").load("/chat/view", function(response, status, xhr) {
                    if (status == "error") {
                        console.error("Chat container 로드 실패: ", xhr.status, xhr.statusText);
                    }
                });
            }
        },
        error: function(xhr, status, error) {
            console.error("사용자 정보를 가져오는 데 실패했습니다. 상태 코드:", xhr.status);
        }
    });
    
    $("#chat-container").load("/chat/view", function () {
        // 외부 스타일시트 처리
        $("#chat-container link[rel='stylesheet']").each(function() {
            var href = $(this).attr('href');
            $.get(href, function(css) {
                var modifiedCss = css.replace(/([^\r\n,{}]+)(,(?=[^}]*{)|\s*{)/g, "#chat-container $1$2");
                $('<style>').text(modifiedCss).appendTo('head');
            });
            $(this).remove(); // 원래의 link 태그 제거
        });

        // 인라인 스타일 처리
        $("#chat-container style").each(function() {
            var css = $(this).text();
            var modifiedCss = css.replace(/([^\r\n,{}]+)(,(?=[^}]*{)|\s*{)/g, "#chat-container $1$2");
            $(this).text(modifiedCss);
        });
    });

    // 헤더, 네비게이션, 푸터 로드
    $('header').load("/header", function () {});
    $('nav').load("/nav", function () {});
    $('footer').load("/footer", function () {});
});
</script>
</html>